#
# Copyright StackHPC, 2017
#
---

grafana_conf_grafana_api: "{{ grafana_conf_grafana_url }}/api"
grafana_conf_grafana_api_datasources: "{{ grafana_conf_grafana_api }}/datasources"

#  All supported datasources
grafana_conf_grafana_datasource_definitions:
  monasca_api: |
    {
    "access": "proxy",
    "basicAuth": false,
    "basicAuthPassword": "",
    "basicAuthUser": "",
    "database": "",
    "isDefault": false,
    "jsonData": {
      "keystoneAuth": true
    },
    "name": "Monasca API",
    "user": "",
    "password": "",
    "type": "monasca-datasource",
    "url": "http://{{ grafana_conf_monasca_api.host }}:{{ grafana_conf_monasca_api.port }}/",
    "withCredentials": false
    }
  monasca_log_api: |
    {
    "access": "proxy",
    "basicAuth": false,
    "basicAuthPassword": "",
    "basicAuthUser": "",
    "database": "",
    "isDefault": false,
    "jsonData": {
      "keystoneAuth": true,
      "service": "monasca-log-api"
    },
    "name": "Monasca Log API",
    "user": "",
    "password": "",
    "type": "monasca-datasource",
    "url": "http://{{ grafana_conf_monasca_log_api.host }}:{{ grafana_conf_monasca_log_api.port }}/",
    "withCredentials": false
     }
  elasticsearch: |
    {
    "access": "proxy",
    "basicAuth": false,
    "basicAuthPassword": "",
    "basicAuthUser": "",
    "database": "[monasca-{{ grafana_conf_project_id }}-]YYYY.MM.DD",
    "isDefault": false,
    "jsonData": {
      "esVersion": 2,
      "interval": "Daily",
      "timeField": "@timestamp"
    },
    "name": "Elasticsearch",
    "password": "",
    "type": "elasticsearch",
    "url": "http://{{ grafana_conf_elasticsearch.host }}:{{ grafana_conf_elasticsearch.port }}/",
    "user": "",
    "withCredentials": false
    }
